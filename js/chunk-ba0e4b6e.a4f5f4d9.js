(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ba0e4b6e"],{"555c":function(e,t,a){"use strict";a("7ecb")},"7ecb":function(e,t,a){},cabc:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sign-in"},[a("a-row",{attrs:{type:"flex",gutter:[24,24],justify:"space-around",align:"middle"}},[a("a-col",{staticClass:"col-form",attrs:{span:24,md:12,lg:{span:12,offset:0},xl:{span:6,offset:2}}},[a("h1",{staticClass:"mb-15"},[e._v("Sign In")]),a("h5",{staticClass:"font-regular text-muted"},[e._v("Enter your email and password to sign in")]),a("a-form",{staticClass:"login-form",attrs:{id:"components-form-demo-normal-login",form:e.form,hideRequiredMark:!0},on:{submit:e.handleSubmit}},[a("a-form-item",{staticClass:"mb-10",attrs:{label:"Email",colon:!1}},[a("a-input",{attrs:{placeholder:"Email"},model:{value:e.form.Username,callback:function(t){e.$set(e.form,"Username",t)},expression:"form.Username"}}),a("span",{staticStyle:{color:"red"},attrs:{id:"error-username"}})],1),a("a-form-item",{staticClass:"mb-5",attrs:{label:"Password",colon:!1}},[a("a-input",{attrs:{type:"password",placeholder:"Password"},model:{value:e.form.Password,callback:function(t){e.$set(e.form,"Password",t)},expression:"form.Password"}}),a("span",{staticStyle:{color:"red"},attrs:{id:"error-password"}})],1),a("a-form-item",{staticClass:"mb-10"},[a("a-switch",{model:{value:e.rememberMe,callback:function(t){e.rememberMe=t},expression:"rememberMe"}}),e._v(" Remember Me ")],1),a("a-form-item",[a("a-button",{staticClass:"login-form-button",attrs:{type:"primary",block:"","html-type":"submit"}},[e._v(" SIGN IN ")])],1)],1),a("p",{staticClass:"font-semibold text-muted"},[e._v("Don't have an account? "),a("router-link",{staticClass:"font-bold text-dark",attrs:{to:"/sign-up"}},[e._v("Sign Up")])],1)],1),a("a-col",{staticClass:"col-img",attrs:{span:24,md:12,lg:12,xl:12}},[a("div",{staticClass:"image-container"},[a("img",{staticStyle:{width:"100%",height:"auto"},attrs:{src:"images/anhnen1.jpg"}}),a("img",{staticStyle:{width:"100%",height:"auto","margin-top":"5px"},attrs:{src:"images/1.png"}})]),a("div",{staticClass:"image-container",staticStyle:{"margin-left":"-15px"}},[a("img",{staticStyle:{width:"100%",height:"auto"},attrs:{src:"images/anhnenhuce.jpg"}}),a("img",{staticStyle:{width:"100%",height:"auto","margin-top":"5px"},attrs:{src:"images/NUCE1.png"}})])])],1)],1)},r=[],o=a("f121");const n="/LOGIN";class i{authenticate(e){return o["a"].post(n,e)}}var l=new i,m={data(){return{rememberMe:!0,form:{Username:localStorage.getItem("rememberedUsername"),Password:localStorage.getItem("rememberedPassword")}}},beforeCreate(){this.form=this.$form.createForm(this,{name:"normal_login"})},methods:{async handleSubmit(e){if(e.preventDefault(),!this.validate())return void console.log("Lỗi validate");this.rememberMe?(localStorage.setItem("rememberedUsername",this.form.Username),localStorage.setItem("rememberedPassword",this.form.Password)):(localStorage.removeItem("rememberedUsername"),localStorage.removeItem("rememberedPassword"));var t=document.getElementById("error-password");const a=await l.authenticate(this.form);if(console.log(a),console.log(a.data),200===a.status){console.log(a.status),localStorage.setItem("access_token",a.data.accessToken);let e=localStorage.getItem("access_token");console.log(e.split(".")[1]);let s=e.split(".")[1],r=window.atob(s),o=JSON.parse(r);if(console.log(o),void 0!=o.data.user){localStorage.setItem("username",o.data.user.TaiKhoan),localStorage.setItem("password",o.data.user.MatKhau),localStorage.setItem("tieude",o.data.user.TieuDe),localStorage.setItem("issudung",o.data.user.IsSuDung);let e=localStorage.getItem("link");""!=e||void 0!=e?this.$router.push(e):this.$router.push({name:"TKBHocKy"})}else this.$router.push({name:"Sign-In"}),t.innerText="Sai tài khoản hoặc mật khẩu"}},validate(){var e=document.getElementById("error-username"),t=document.getElementById("error-password");let a=0;return""===this.form.Username?(e.innerText="Xin mời nhập tài khoản",a++):e.innerText="",""===this.form.Password?(t.innerText="Xin mời nhập mật khẩu",a++):t.innerText="",0==a}}},c=m,d=(a("555c"),a("2877")),u=Object(d["a"])(c,s,r,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-ba0e4b6e.a4f5f4d9.js.map